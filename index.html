<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>–†—É–ª–µ—Ç–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
  <div id="user-avatar-container">
    <img id="user-avatar" src="" alt="User avatar" style="display:none;" />
  </div>
  <div id="tab-content-roulette" class="tab-content active">
    <h1><span>üéÅ</span> Gift Roulette</h1>
    
    <!-- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å -->
    <div id="daily-bonus" class="daily-bonus-container">
      <div class="daily-bonus-content">
        <div class="daily-bonus-title">üéÅ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å</div>
        <div class="daily-bonus-message" id="daily-bonus-message">–ó–∞—Ö–æ–¥–∏—Ç–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞ –±–æ–Ω—É—Å–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏!</div>
        <button class="daily-bonus-button" id="daily-bonus-button">–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å</button>
        <div class="daily-bonus-timer" id="daily-bonus-timer"></div>
        <div class="daily-bonus-stats">
          <div class="daily-bonus-stat">
            <span class="daily-bonus-stat-value" id="daily-bonus-total">0</span>
            <span class="daily-bonus-stat-label">–í—Å–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–æ</span>
          </div>
          <div class="daily-bonus-stat">
            <span class="daily-bonus-stat-value" id="daily-bonus-streak">0</span>
            <span class="daily-bonus-stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- –ë–æ–Ω—É—Å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ -->
    <div id="bonus-attempts" class="bonus-attempts" style="display: none;">
      <div class="bonus-attempts-title">–ë–æ–Ω—É—Å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏</div>
      <div class="bonus-attempts-count" id="bonus-attempts-count">0</div>
      <div class="bonus-attempts-info">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—Ä–∞—â–µ–Ω–∏–π</div>
    </div>
    
    <div class="roulette-container">
      <div id="roulette" class="roulette"></div>
      <div class="pointer"></div>
    </div>
    <button id="spin">Spin!</button>
    <div id="result"></div>

    <div class="prize-list-container">
      <h2>What can you win?</h2>
      <ul id="prize-list">
        <!-- Prize list will be generated here -->
      </ul>
    </div>
  </div>
  
  <div id="tab-content-gifts" class="tab-content" style="display:none">
    <h1><span>üéÅ</span> My Gifts</h1>
    <ul id="my-gifts-list">
      <!-- Gift cards will be added via JS -->
    </ul>
  </div>
  
  <div id="tab-content-stats" class="tab-content" style="display:none">
    <h1><span>üìä</span> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
    <div class="stats-container">
      <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è -->
      <div class="level-progress">
        <div class="level-info">
          <div class="level-name" id="level-name">–ù–æ–≤–∏—á–æ–∫</div>
          <div class="level-number" id="level-number">–£—Ä–æ–≤–µ–Ω—å 1</div>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="level-progress-fill" style="width: 0%"></div>
        </div>
        <div class="progress-text" id="level-progress-text">0 / 100 XP</div>
      </div>
      
      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="total-wins">0</div>
          <div class="stat-label">–í—ã–∏–≥—Ä—ã—à–µ–π</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="total-xp">0</div>
          <div class="stat-label">–í—Å–µ–≥–æ XP</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="achievements-count">0</div>
          <div class="stat-label">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="consecutive-days">0</div>
          <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
        </div>
      </div>
      
      <!-- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
      <h2>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
      <div class="achievements-list" id="achievements-list">
        <!-- Achievements will be generated here -->
      </div>
    </div>
  </div>
  
  <div id="tab-content-referral" class="tab-content" style="display:none">
    <h1><span>üë•</span> –†–µ—Ñ–µ—Ä–∞–ª—ã</h1>
    <div class="stats-container">
      <!-- –í–∞—à —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ -->
      <div class="referral-container">
        <div class="referral-header">
          <div class="referral-title">–í–∞—à —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥</div>
          <div class="referral-subtitle">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–¥–æ–º —Å –¥—Ä—É–∑—å—è–º–∏ –∏ –ø–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏</div>
        </div>
        
        <div class="referral-code-section">
          <div class="referral-code-display" id="referral-code-display">XXXXXX</div>
          <div class="referral-buttons">
            <button class="referral-btn" id="copy-referral-btn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            <button class="referral-btn" id="share-referral-btn">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
          </div>
        </div>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ -->
        <div class="referral-stats">
          <div class="referral-stat">
            <div class="referral-stat-value" id="referral-total">0</div>
            <div class="referral-stat-label">–í—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</div>
          </div>
          <div class="referral-stat">
            <div class="referral-stat-value" id="referral-rewards">0</div>
            <div class="referral-stat-label">–ü–æ–ª—É—á–µ–Ω–æ –Ω–∞–≥—Ä–∞–¥</div>
          </div>
        </div>
        
        <!-- –ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ -->
        <div class="referral-rewards">
          <div class="referral-rewards-title">–ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</div>
          <div class="referral-rewards-list" id="referral-rewards-list">
            <!-- Rewards will be generated here -->
          </div>
        </div>
        
        <!-- –°–ª–µ–¥—É—é—â–∞—è –Ω–∞–≥—Ä–∞–¥–∞ -->
        <div class="referral-next-reward" id="referral-next-reward" style="display: none;">
          <div class="referral-next-reward-title">–°–ª–µ–¥—É—é—â–∞—è –Ω–∞–≥—Ä–∞–¥–∞</div>
          <div class="referral-next-reward-info" id="referral-next-reward-info"></div>
        </div>
      </div>
      
      <!-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ -->
      <div class="referral-container">
        <div class="referral-header">
          <div class="referral-title">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥</div>
          <div class="referral-subtitle">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥—Ä—É–≥–∞ –∏ –ø–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏</div>
        </div>
        
        <div class="referral-input-section">
          <div class="referral-input-container">
            <input type="text" class="referral-input" id="referral-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ (6 —Å–∏–º–≤–æ–ª–æ–≤)" maxlength="6">
            <button class="referral-apply-btn" id="apply-referral-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="tab-content-info" class="tab-content" style="display:none">
    <h1><span>‚ÑπÔ∏è</span> –û –ø—Ä–æ–µ–∫—Ç–µ</h1>
    <div class="info-container">
      
      <!-- –û –ø—Ä–æ–µ–∫—Ç–µ -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">üéÅ</div>
          <h2>GiftWins ‚Äî –†—É–ª–µ—Ç–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤</h2>
        </div>
        <div class="info-section-content">
          <p><strong>GiftWins</strong> ‚Äî —ç—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞ —Ü–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤ —á–µ—Ä–µ–∑ Telegram. –ú—ã –æ–±—ä–µ–¥–∏–Ω–∏–ª–∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é –º–µ—Ö–∞–Ω–∏–∫—É —Ä—É–ª–µ—Ç–∫–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏ –±–ª–æ–∫—á–µ–π–Ω–∞ –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç.</p>
          <p>–ù–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã–º, –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>
        </div>
      </div>

      <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">‚≠ê</div>
          <h2>–ü–æ—á–µ–º—É GiftWins?</h2>
        </div>
        <div class="info-section-content">
          <div class="features-grid">
            <div class="feature-item">
              <div class="feature-icon">üîí</div>
              <div class="feature-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
              <div class="feature-desc">–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –±–ª–æ–∫—á–µ–π–Ω–æ–º Telegram</div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">üéØ</div>
              <div class="feature-title">–ß–µ—Å—Ç–Ω–æ—Å—Ç—å</div>
              <div class="feature-desc">–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">‚ö°</div>
              <div class="feature-title">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å</div>
              <div class="feature-desc">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–∑–æ–≤ –≤ Telegram</div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">üéÆ</div>
              <div class="feature-title">–£–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
              <div class="feature-desc">–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤</div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">üë•</div>
              <div class="feature-title">–°–æ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</div>
              <div class="feature-desc">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">üì±</div>
              <div class="feature-title">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</div>
              <div class="feature-desc">–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —á–µ—Ä–µ–∑ Telegram</div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">üîÑ</div>
          <h2>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
        </div>
        <div class="info-section-content">
          <div class="steps-list">
            <div class="step-item">
              <div class="step-number">1</div>
              <div class="step-content">
                <div class="step-title">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –±–æ—Ç–∞</div>
                <div class="step-desc">–î–æ–±–∞–≤—å—Ç–µ @GiftWinsSender_BOT –≤ Telegram –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç—É</div>
              </div>
            </div>
            <div class="step-item">
              <div class="step-number">2</div>
              <div class="step-content">
                <div class="step-title">–ö—Ä—É—Ç–∏—Ç–µ —Ä—É–ª–µ—Ç–∫—É</div>
                <div class="step-desc">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∏ –±–æ–Ω—É—Å—ã –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è —Ä—É–ª–µ—Ç–∫–∏</div>
              </div>
            </div>
            <div class="step-item">
              <div class="step-number">3</div>
              <div class="step-content">
                <div class="step-title">–ü–æ–ª—É—á–∞–π—Ç–µ –ø—Ä–∏–∑—ã</div>
                <div class="step-desc">–í—ã–∏–≥—Ä–∞–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ –≤–∞—à Telegram</div>
              </div>
            </div>
            <div class="step-item">
              <div class="step-number">4</div>
              <div class="step-content">
                <div class="step-title">–†–∞–∑–≤–∏–≤–∞–π—Ç–µ—Å—å</div>
                <div class="step-desc">–ü–æ–≤—ã—à–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å, —Å–æ–±–∏—Ä–∞–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">üõ°Ô∏è</div>
          <h2>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h2>
        </div>
        <div class="info-section-content">
          <div class="security-features">
            <div class="security-item">
              <div class="security-icon">üîê</div>
              <div class="security-text">
                <strong>–ë–ª–æ–∫—á–µ–π–Ω Telegram</strong><br>
                –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏
              </div>
            </div>
            <div class="security-item">
              <div class="security-icon">üìä</div>
              <div class="security-text">
                <strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong><br>
                –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã
              </div>
            </div>
            <div class="security-item">
              <div class="security-icon">‚öñÔ∏è</div>
              <div class="security-text">
                <strong>–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å</strong><br>
                –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∞—É–¥–∏—Ç–æ—Ä–∞–º–∏
              </div>
            </div>
            <div class="security-item">
              <div class="security-icon">üîÑ</div>
              <div class="security-text">
                <strong>–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã</strong><br>
                –ü—Ä–∏–∑—ã –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">üìà</div>
          <h2>–ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
        </div>
        <div class="info-section-content">
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value">10,000+</div>
              <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">50,000+</div>
              <div class="stat-label">–í—ã–¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">99.9%</div>
              <div class="stat-label">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">4.9‚òÖ</div>
              <div class="stat-label">–†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞ -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">ü§ñ</div>
          <h2>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞</h2>
        </div>
        <div class="info-section-content">
          <div class="bot-connection">
            <div class="bot-info">
              <div class="bot-username">@GiftWinsSender_BOT</div>
              <div class="bot-desc">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–∑–æ–≤</div>
            </div>
            <div class="connection-steps">
              <div class="connection-step">
                <div class="step-icon">‚öôÔ∏è</div>
                <div class="step-text">–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram</div>
              </div>
              <div class="connection-step">
                <div class="step-icon">üíº</div>
                <div class="step-text">–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Telegram for Business"</div>
              </div>
              <div class="connection-step">
                <div class="step-icon">ü§ñ</div>
                <div class="step-text">–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "Chat Bots"</div>
              </div>
              <div class="connection-step">
                <div class="step-icon">‚ûï</div>
                <div class="step-text">–î–æ–±–∞–≤—å—Ç–µ @GiftWinsSender_BOT</div>
              </div>
            </div>
            <div class="connection-note">
              <strong>–í–∞–∂–Ω–æ:</strong> –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç—É –Ω—É–∂–Ω—ã –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
            </div>
          </div>
        </div>
      </div>

      <!-- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">üí¨</div>
          <h2>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
        </div>
        <div class="info-section-content">
          <div class="support-channels">
            <div class="support-item">
              <div class="support-icon">üìß</div>
              <div class="support-info">
                <div class="support-title">Email –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                <div class="support-desc">support@giftwins.com</div>
              </div>
            </div>
            <div class="support-item">
              <div class="support-icon">üí¨</div>
              <div class="support-info">
                <div class="support-title">Telegram —á–∞—Ç</div>
                <div class="support-desc">@GiftWinsSupport</div>
              </div>
            </div>
            <div class="support-item">
              <div class="support-icon">üìñ</div>
              <div class="support-info">
                <div class="support-title">FAQ</div>
                <div class="support-desc">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –ø—Ä–∞–≤–∞ -->
      <div class="info-section">
        <div class="info-section-header">
          <div class="info-section-icon">üìÑ</div>
          <h2>–ü—Ä–∞–≤–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
        </div>
        <div class="info-section-content">
          <div class="legal-info">
            <p>GiftWins —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –æ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–∞—Ö –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞—Ö. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ API Telegram.</p>
            <div class="legal-links">
              <a href="#" class="legal-link">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a>
              <a href="#" class="legal-link">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
              <a href="#" class="legal-link">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  
  <div class="tabs-container">
    <div class="bottom-tabs">
      <button class="tab-btn active" data-tab="roulette"><span class="tab-icon">üé∞</span>Roulette</button>
      <button class="tab-btn" data-tab="gifts"><span class="tab-icon">üéÅ</span>My Gifts</button>
      <button class="tab-btn" data-tab="stats"><span class="tab-icon">üìä</span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button class="tab-btn" data-tab="referral"><span class="tab-icon">üë•</span>–†–µ—Ñ–µ—Ä–∞–ª—ã</button>
      <button class="tab-btn" data-tab="info"><span class="tab-icon">‚ÑπÔ∏è</span>Info</button>
    </div>
  </div>

  <!-- Win modal -->
  <div id="win-modal-overlay" class="modal-overlay">
    <div id="win-modal-content" class="modal-content">
      <img id="win-modal-img" src="" alt="Won prize">
      <h2 id="win-modal-title"></h2>
      <p id="win-modal-price"></p>
      <button id="win-modal-btn">Go to My Gifts</button>
    </div>
  </div>

  <!-- Withdraw modal -->
  <div id="withdraw-info-modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <span class="modal-icon">üéÅ</span>
        <h1>Withdraw Gift</h1>
      </div>
      <img id="withdraw-info-img" src="" alt="Gift to withdraw">
      <h2 id="withdraw-info-title"></h2>
      <div class="info-box">
        <p><strong>To withdraw a gift, connect the bot to your Telegram Business Account.</strong></p>
        <p>This will allow you to automatically transfer won gifts directly to your account.</p>
      </div>
      <p class="info-footer">Connection instructions are in the "Info" tab.</p>
      <button id="withdraw-info-btn" class="withdraw-btn">Withdraw</button>
    </div>
  </div>

  <script src="prizes.js"></script>
  <script src="achievements.js"></script>
  <script src="daily_bonus.js"></script>
  <script src="referral_system.js"></script>
  <script src="audio_system.js"></script>
  <script src="roulette.js"></script>
  <script>
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = {
      roulette: document.getElementById('tab-content-roulette'),
      gifts: document.getElementById('tab-content-gifts'),
      stats: document.getElementById('tab-content-stats'),
      referral: document.getElementById('tab-content-referral'),
      info: document.getElementById('tab-content-info')
    };
    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –∫–ª–∏–∫–∞
        if (window.audioSystem) {
          window.audioSystem.playClickSound();
        }
        
        tabBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        Object.values(tabContents).forEach(tc => tc.style.display = 'none');
        tabContents[btn.dataset.tab].style.display = '';
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É
        if (btn.dataset.tab === 'stats') {
          updateStatsDisplay();
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—ã –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É
        if (btn.dataset.tab === 'referral') {
          updateReferralDisplay();
        }
      });
    });

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–∑–æ–≤ –ø–æ–¥ —Ä—É–ª–µ—Ç–∫–æ–π
    function generatePrizeList() {
      const prizeList = document.getElementById('prize-list');
      // –§–∏–ª—å—Ç—Ä—É–µ–º "–ü—É—Å—Ç–æ"
      const displayPrizes = prizes.filter(p => p.starPrice > 0);
      
      prizeList.innerHTML = displayPrizes.map(prize => `
        <li>
          <img src="${prize.img}" alt="${prize.name}">
          <span class="prize-list-name">${prize.name}</span>
          <span class="prize-list-price">${prize.starPrice}‚≠ê</span>
        </li>
      `).join('');
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    function updateStatsDisplay() {
      const stats = window.achievementSystem.getStats();
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å
      document.getElementById('level-name').textContent = stats.currentLevelInfo.name;
      document.getElementById('level-number').textContent = `–£—Ä–æ–≤–µ–Ω—å ${stats.level}`;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
      const progressPercent = stats.level < 10 ? 
        ((stats.totalXP - stats.currentLevelInfo.xpRequired) / (stats.nextLevelXP - stats.currentLevelInfo.xpRequired)) * 100 : 100;
      document.getElementById('level-progress-fill').style.width = `${progressPercent}%`;
      document.getElementById('level-progress-text').textContent = 
        `${stats.totalXP} / ${stats.nextLevelXP} XP`;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
      document.getElementById('total-wins').textContent = stats.totalWins;
      document.getElementById('total-xp').textContent = stats.totalXP;
      document.getElementById('achievements-count').textContent = `${stats.achievements}/${stats.totalAchievements}`;
      document.getElementById('consecutive-days').textContent = stats.consecutiveDays;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –±–æ–Ω—É—Å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
      const bonusAttemptsEl = document.getElementById('bonus-attempts');
      const bonusCountEl = document.getElementById('bonus-attempts-count');
      if (stats.bonusAttempts > 0) {
        bonusAttemptsEl.style.display = 'block';
        bonusCountEl.textContent = stats.bonusAttempts;
      } else {
        bonusAttemptsEl.style.display = 'none';
      }
      
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
      generateAchievementsList();
    }

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    function generateAchievementsList() {
      const achievementsList = document.getElementById('achievements-list');
      const achievements = window.achievementSystem.getAchievementsList();
      
      achievementsList.innerHTML = achievements.map(achievement => `
        <div class="achievement-item ${achievement.unlocked ? 'unlocked' : 'locked'}">
          <div class="achievement-item-icon">${achievement.icon}</div>
          <div class="achievement-item-content">
            <div class="achievement-item-title">${achievement.name}</div>
            <div class="achievement-item-description">${achievement.description}</div>
            ${achievement.reward.attempts ? `<div class="achievement-item-reward">–ù–∞–≥—Ä–∞–¥–∞: +${achievement.reward.attempts} –ø–æ–ø—ã—Ç–æ–∫</div>` : ''}
          </div>
        </div>
      `).join('');
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
    function updateReferralDisplay() {
      if (!window.referralSystem) return;
      
      const stats = window.referralSystem.getReferralStats();
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
      document.getElementById('referral-code-display').textContent = stats.referralCode;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
      document.getElementById('referral-total').textContent = stats.totalReferrals;
      document.getElementById('referral-rewards').textContent = stats.rewardsClaimed.length;
      
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –Ω–∞–≥—Ä–∞–¥
      generateReferralRewardsList();
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â—É—é –Ω–∞–≥—Ä–∞–¥—É
      updateNextRewardDisplay();
    }

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –Ω–∞–≥—Ä–∞–¥ –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
    function generateReferralRewardsList() {
      if (!window.referralSystem) return;
      
      const rewardsList = document.getElementById('referral-rewards-list');
      const stats = window.referralSystem.getReferralStats();
      const rewards = [1, 5, 10, 25, 50];
      
      rewardsList.innerHTML = rewards.map(count => {
        const isClaimed = stats.rewardsClaimed.includes(count);
        const isAvailable = stats.totalReferrals >= count && !isClaimed;
        const rewardAmount = window.referralSystem.getRewardAmount(count);
        
        let statusClass = '';
        if (isClaimed) statusClass = 'claimed';
        else if (isAvailable) statusClass = 'available';
        
        return `
          <div class="referral-reward-item ${statusClass}">
            <div class="referral-reward-info">
              <div class="referral-reward-icon">${isClaimed ? '‚úÖ' : isAvailable ? 'üéÅ' : 'üîí'}</div>
              <div class="referral-reward-text">${count} —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</div>
            </div>
            <div class="referral-reward-amount">+${rewardAmount} –ø–æ–ø—ã—Ç–æ–∫</div>
          </div>
        `;
      }).join('');
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–π –Ω–∞–≥—Ä–∞–¥—ã
    function updateNextRewardDisplay() {
      if (!window.referralSystem) return;
      
      const nextReward = window.referralSystem.getNextReward();
      const nextRewardEl = document.getElementById('referral-next-reward');
      const nextRewardInfoEl = document.getElementById('referral-next-reward-info');
      
      if (nextReward) {
        nextRewardEl.style.display = 'block';
        nextRewardInfoEl.textContent = `${nextReward.count} —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (–æ—Å—Ç–∞–ª–æ—Å—å ${nextReward.remaining}) = +${nextReward.reward} –ø–æ–ø—ã—Ç–æ–∫`;
      } else {
        nextRewardEl.style.display = 'none';
      }
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
    function setupReferralHandlers() {
      // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
      const copyBtn = document.getElementById('copy-referral-btn');
      if (copyBtn) {
        copyBtn.addEventListener('click', () => {
          if (window.referralSystem) {
            window.referralSystem.copyReferralCode();
          }
          // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
          if (window.audioSystem) {
            window.audioSystem.playNotificationSound();
          }
        });
      }
      
      // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º
      const shareBtn = document.getElementById('share-referral-btn');
      if (shareBtn) {
        shareBtn.addEventListener('click', () => {
          if (window.referralSystem) {
            window.referralSystem.shareReferralCode();
          }
          // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
          if (window.audioSystem) {
            window.audioSystem.playNotificationSound();
          }
        });
      }
      
      // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
      const applyBtn = document.getElementById('apply-referral-btn');
      const referralInput = document.getElementById('referral-input');
      
      if (applyBtn && referralInput) {
        applyBtn.addEventListener('click', () => {
          const code = referralInput.value.trim().toUpperCase();
          if (code.length !== 6) {
            alert('–ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 6 —Å–∏–º–≤–æ–ª–æ–≤');
            return;
          }
          
          if (window.referralSystem) {
            const result = window.referralSystem.applyReferralCode(code);
            if (result.success) {
              referralInput.value = '';
              updateStatsDisplay();
              // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –±–æ–Ω—É—Å–∞
              if (window.audioSystem) {
                window.audioSystem.playBonusSound();
              }
              alert(result.message);
            } else {
              alert(result.message);
            }
          }
        });
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ Enter
        referralInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            applyBtn.click();
          }
        });
      }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞
    function updateDailyBonus() {
      if (!window.dailyBonusSystem) return;
      
      const bonusInfo = window.dailyBonusSystem.getBonusInfo();
      const stats = window.dailyBonusSystem.getStats();
      
      const messageEl = document.getElementById('daily-bonus-message');
      const buttonEl = document.getElementById('daily-bonus-button');
      const timerEl = document.getElementById('daily-bonus-timer');
      const totalEl = document.getElementById('daily-bonus-total');
      const streakEl = document.getElementById('daily-bonus-streak');
      
      messageEl.textContent = bonusInfo.message;
      buttonEl.disabled = !bonusInfo.canClaim;
      buttonEl.textContent = bonusInfo.canClaim ? '–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å' : '–£–∂–µ –ø–æ–ª—É—á–µ–Ω';
      
      if (!bonusInfo.canClaim) {
        timerEl.textContent = `–°–ª–µ–¥—É—é—â–∏–π –±–æ–Ω—É—Å —á–µ—Ä–µ–∑: ${bonusInfo.nextClaim}`;
      } else {
        timerEl.textContent = '';
      }
      
      totalEl.textContent = stats.totalClaims;
      streakEl.textContent = stats.consecutiveDays;
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞
    function handleDailyBonusClaim() {
      if (!window.dailyBonusSystem) return;
      
      const result = window.dailyBonusSystem.claimBonus();
      
      if (result.success) {
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –±–æ–Ω—É—Å–∞
        if (window.audioSystem) {
          window.audioSystem.playBonusSound();
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è
        const bonusContainer = document.getElementById('daily-bonus');
        bonusContainer.classList.add('daily-bonus-claimed');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const notification = document.createElement('div');
        notification.className = 'achievement-notification';
        notification.innerHTML = `
          <div class="achievement-icon">üéÅ</div>
          <div class="achievement-content">
            <div class="achievement-title">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å!</div>
            <div class="achievement-description">${result.message}</div>
          </div>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.classList.add('show');
        }, 100);
        
        setTimeout(() => {
          notification.classList.remove('show');
          setTimeout(() => {
            document.body.removeChild(notification);
          }, 300);
        }, 3000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        updateDailyBonus();
        updateStatsDisplay();
        
        setTimeout(() => {
          bonusContainer.classList.remove('daily-bonus-claimed');
        }, 600);
      } else {
        alert(result.message);
      }
    }

    // –í—ã–∑—ã–≤–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
      generatePrizeList();
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
      window.achievementSystem.checkDailyLogin();
      updateStatsDisplay();
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã
      updateDailyBonus();
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
      updateReferralDisplay();
      setupReferralHandlers();
      
      // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞
      const dailyBonusButton = document.getElementById('daily-bonus-button');
      if (dailyBonusButton) {
        dailyBonusButton.addEventListener('click', handleDailyBonusClaim);
      }
      
      // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É
      if (window.audioSystem && !window.audioSystem.isMuted) {
        setTimeout(() => {
          window.audioSystem.playMusic();
        }, 2000); // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ UX
      }
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
      setInterval(updateDailyBonus, 60000);
    });

    // –ü—Ä–∏–º–µ—Ä –ø–æ–¥–∞—Ä–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–∑–∞–º–µ–Ω–∏ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
    function renderGiftCard(gift, index) {
      return `<li><div class="gift-card">
        <img src="${gift.img}" alt="${gift.name}">
        <div class="gift-card-title">${gift.name}</div>
        <div class="gift-card-date">Won: ${gift.date}</div>
        <button class="gift-card-btn withdraw-btn" data-gift-index="${index}">Withdraw</button>
      </div></li>`;
    }
    function getGiftsFromStorage() {
      // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞ –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞
      return []; 
    }
    function updateGiftsList(gifts) { // –¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∞—Ä–∫–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç
      document.getElementById('my-gifts-list').innerHTML = gifts.length
        ? gifts.map((gift, index) => renderGiftCard(gift, index)).join('')
        : '<div style="color:#888;margin-top:30px;">No gifts yet</div>';
    }

    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—ã–≤–æ–¥–∞
    const withdrawModalOverlay = document.getElementById('withdraw-info-modal-overlay');
    const withdrawModalImg = document.getElementById('withdraw-info-img');
    const withdrawModalTitle = document.getElementById('withdraw-info-title');
    const withdrawModalBtn = document.getElementById('withdraw-info-btn');

    let lastWithdrawGift = null;
    function showWithdrawModal(gift) {
      withdrawModalImg.src = gift.img;
      withdrawModalTitle.textContent = gift.name;
      withdrawModalOverlay.classList.add('visible');
      lastWithdrawGift = gift;
    }
    
    document.getElementById('my-gifts-list').addEventListener('click', async (e) => {
      if (e.target && e.target.classList.contains('gift-card-btn')) {
        const giftIndex = e.target.dataset.giftIndex;
        // –ü–æ–ª—É—á–∞–µ–º —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ –µ—â–µ —Ç–∞–º
        const response = await fetch(`/api/get_user_status?user_id=${currentUser.id}`);
        const data = await response.json();
        if (data.gifts && data.gifts[giftIndex]) {
          const gift = data.gifts[giftIndex];
          showWithdrawModal(gift);
        }
      }
    });

    withdrawModalBtn.addEventListener('click', () => {
      withdrawModalOverlay.classList.remove('visible');
      if (window.Telegram && Telegram.WebApp && lastWithdrawGift) {
        Telegram.WebApp.sendData(JSON.stringify({action: "withdraw_gift", gift: lastWithdrawGift}));
        setTimeout(() => {
          Telegram.WebApp.close();
        }, 300);
      }
    });

    // === –ê–≤–∞—Ç–∞—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram ===
    document.addEventListener('DOMContentLoaded', function() {
      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.ready();
        if (Telegram.WebApp.initDataUnsafe && Telegram.WebApp.initDataUnsafe.user) {
          const user = Telegram.WebApp.initDataUnsafe.user;
          console.log('Telegram user:', user);
          const avatarImg = document.getElementById('user-avatar');
          if (user.photo_url) {
            avatarImg.src = user.photo_url;
            avatarImg.style.display = 'block';
          } else {
            // –ï—Å–ª–∏ –Ω–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫—É-–∑–∞–≥–ª—É—à–∫—É
            avatarImg.src = 'https://cdn-icons-png.flaticon.com/512/149/149071.png';
            avatarImg.style.display = 'block';
          }
        } else {
          console.log('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram');
        }
      } else {
        console.log('Telegram WebApp API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
      }
    });
  </script>
</body>
</html>
